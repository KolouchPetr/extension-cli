<!-- start:readme.hbs -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
		<title>xt-build</title>
		<link rel="icon" type="image/png" href="favicon.png"/>
		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<link href="https://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet">
		<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
		<link type="text/css" rel="stylesheet" href="css/prism.min.css">
		<link type="text/css" rel="stylesheet" href="css/template.min.css">
			<link type="text/css" rel="stylesheet" href="data:text/css;base64,YXJ0aWNsZSBwLCBhcnRpY2xlIHVsLCBhcnRpY2xlIHRhYmxle2ZvbnQtc2l6ZTogMS4zZW07bGluZS1oZWlnaHQ6IDEuODt9aDMsaDQsaDUsaDZ7bWFyZ2luLXRvcDoyZW19">
			<style>
				.page-header,
				pre.code-toolbar > .toolbar:hover {
					background-color: #222136;
				}
				.callout-primary,
				.toc .nav > li > a:hover,
				.toc .nav > li > a:focus,
				.toc .nav > li.active > a,
				.toc .nav > li.active > a:hover,
				.toc .nav > li.active > a:focus,
				pre.code-toolbar > .toolbar:hover {
					border-left-color: #222136;
				}
				pre.code-toolbar > .toolbar:hover {
					border-bottom-color: #222136;
				}
				.callout-primary h5,
				.symbol-title.collapsible-symbol .toggle-icon,
				.breadcrumb li a,
				.toc .nav > li > a:hover,
				.toc .nav > li > a:focus,
				.toc .nav > li.active > a,
				.toc .nav > li.active > a:hover,
				.toc .nav > li.active > a:focus {
					color: #222136;
				}
			</style>
		<script type="text/javascript">
			window.TEMPLATE_OPTIONS = {"includeDate":"true","dateFormat":"MMM YYYY","systemName":"Extension CLI","systemSummary":"Command-line utility tool that speeds up chrome extension development by providing a systematic way to build, test and document extension projects.","systemLogo":"","systemColor":"#222136","navMembers":[{"kind":"class","title":"Classes","summary":"All documented classes."},{"kind":"external","title":"Externals","summary":"All documented external members."},{"kind":"global","title":"Globals","summary":"All documented globals."},{"kind":"mixin","title":"Mixins","summary":"All documented mixins."},{"kind":"interface","title":"Interfaces","summary":"All documented interfaces."},{"kind":"module","title":"Modules","summary":"All documented modules."},{"kind":"namespace","title":"Namespaces","summary":"All documented namespaces."},{"kind":"tutorial","title":"Tutorials","summary":"All available tutorials."}],"footer":"","copyright":"Extension Cli is made by <a href='https://mobilefirst.me'>Mobile First</a> in the üçë state.","linenums":"true","collapseSymbols":"false","inverseNav":"false","inlineNav":"true","outputSourceFiles":"true","sourceRootPath":null,"disablePackagePath":true,"outputSourcePath":"true","showTableOfContents":"true","showAccessFilter":"true","analytics":{"ua":"UA-129118591-4","domain":"https://mobilefirstllc.github.io/"},"methodHeadingReturns":"false","sort":"linenum, longname, version, since","search":"false","favicon":"favicon.png","stylesheets":["data:text/css;base64,YXJ0aWNsZSBwLCBhcnRpY2xlIHVsLCBhcnRpY2xlIHRhYmxle2ZvbnQtc2l6ZTogMS4zZW07bGluZS1oZWlnaHQ6IDEuODt9aDMsaDQsaDUsaDZ7bWFyZ2luLXRvcDoyZW19"],"scripts":[],"monospaceLinks":false,"cleverLinks":false};
			window.DOCLET_TOC_ENABLED = "true";
			window.DOCLET_AFILTER_ENABLED = false;
		</script>
</head>
<body>
	<!-- start:navbar.hbs -->
	<header class="navbar navbar-default navbar-fixed-top navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="index.html">
					Extension CLI
				</a>
				<!-- displayed on small devices -->
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
			<div class="navbar-collapse collapse" id="topNavigation">
				<ul class="nav navbar-nav">
							<li><a href="list_tutorial.html">Tutorials</a></li>
				</ul>
					<!-- start:lunr-search-navbar.hbs -->
					<form class="navbar-form navbar-right" role="search">
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Search" id="lunr-search-input">
							<div class="input-group-btn">
								<button class="btn btn-default" id="lunr-search-submit">
									<i class="glyphicon glyphicon-search"></i>
								</button>
							</div>
						</div>
					</form>
					<!-- start:lunr-search-navbar.hbs -->		</div>
		</div>
	</header>
	<!-- end:navbar.hbs -->		<div class="page-header">
			<div class="container">
				<span class="kind">tutorial</span>
				<h1><span class="title">xt-build</span></h1>
			</div>
		</div>
	<div class="container content">
		<div class="row">
			<div class="col-md-9 main-content">
						<ol class="breadcrumb">
							<li><a href="index.html">Home</a></li>
							<li><a href="list_tutorial.html">Tutorials</a></li>
							<li class="active">xt-build</li>
						</ol>
		<section class="tutorial-section">
			<article><h1>xt-build</h1>
<blockquote>
<p><code>xt-build</code> command is used for generating a debuggable dev version of and extension, and a production ready, minified .zip file that can be uploaded to the chrome web store.</p>
</blockquote>
<p>Successful build command always generates an extension <code>dist/</code> directory that can be debugged in the browser.  The underlying build system
uses <a href="https://github.com/gulpjs/gulp">gulp</a>, <a href="https://github.com/babel/gulp-babel">babel</a> and <a href="https://github.com/webpack/webpack">webpack</a> to compile scripts (among other plugins).</p>
<h3>Dev Build Artifacts</h3>
<p>When specifying<code>dev</code> build flag, the build will complete using development settings. The output of a successful dev build is  a <code>dist/</code> directory which can be debugged using the chrome browser. The build command will always compile scripts using production settings, because extension scripts must be compiled prior to debugging (<code>eval</code> is not allowed).</p>
<h3>Prod Build Artifacts</h3>
<p>When specifying <code>prod</code> build flag, the build will run a production build. Successful production build will generate a <code>dist/</code> directory of extension files which can be debugged in the browser. It will also generate a <code>release.zip</code> file in the project root strictly based on the files in the <code>dist</code> directory. This zip file can be uploaded directly to the Chrome Web Store. When running a production build, all code files (js, sass, html, json) will be minified.</p>
<h2>Commands</h2>
<p>Run production build (default)</p>
<pre class="prettyprint source"><code>xt-build
</code></pre>
<p>Run production build using explicit flag</p>
<pre class="prettyprint source"><code>xt-build -e prod
</code></pre>
<p>Run development build</p>
<pre class="prettyprint source"><code>xt-build -e dev
</code></pre>
<p>Command using custom configuration file path</p>
<pre class="prettyprint source"><code>xt-build --config &quot;/path/to/config.json&quot;
</code></pre>
<p>Run development build and keep watching changes</p>
<pre class="prettyprint source"><code>xt-build -e dev --watch
</code></pre>
<p>Get help using this command</p>
<pre class="prettyprint source"><code>xt-build --help
</code></pre>
<p>After installing extension-cli, you can run these commands from a terminal using syntax <code>npx xt-build</code>.</p>
<p>Or you can add an option to <code>packages.json</code> scripts section (see example below) and then execute the command as <code>npm run build</code> or <code>npm run start</code>.</p>
<pre class="prettyprint source"><code>&quot;scripts&quot;:{
    &quot;start&quot;: &quot;xt-build -e dev -w&quot;,
    &quot;build&quot;: &quot;xt-build -e prod&quot;,
}
</code></pre>
<br/>
<h2>Build Configuration</h2>
<p>By default the CLI will look for build configuration in two different
places:</p>
<ul>
<li>in <code>package.json</code> using key <code>xtbuild</code></li>
<li>in a file named <code>.xtbuild.json</code> in project root</li>
</ul>
<p>If these two locations cause a conflict, alternatively you can provide a path to configuration file with <code>--config</code> (<code>-c</code>) flag,
followed by path to file. <a href="#commands">See commands for an example</a>.</p>
<br/>
<h3>Default Configuration</h3>
<p>The CLI uses a default build configuration file shown below. This tells the extension CLI where to look for files and where to output files. You can override any of these key-value pairs at project level. You can find more detailed explanations of usage of some of these keys <a href="#custom-configurations">below</a>.</p>
<pre class="prettyprint source lang-json"><code>{
  &quot;projectRootDir&quot;: &quot;../../../&quot;,
  &quot;dist&quot;: &quot;./dist&quot;,
  &quot;source&quot;: &quot;./src&quot;,
  &quot;releases&quot;: &quot;./&quot;,
  &quot;manifest&quot;: &quot;./src/manifest.json&quot;,
  &quot;js&quot;: &quot;./src/**/*.js&quot;,
  &quot;js_bundles&quot;: null,
  &quot;html&quot;: &quot;./src/**/*.html&quot;,
  &quot;scss&quot;: &quot;./src/**/*.scss&quot;,
  &quot;scss_bundles&quot;: null,
  &quot;icons&quot;:[
    &quot;./assets/img/**/*.png&quot;,
    &quot;./assets/img/**/*.gif&quot;,
    &quot;./assets/img/**/*.jpg&quot;,
    &quot;./assets/img/**/*.svg&quot;
  ],
  &quot;copyAsIs&quot;: [],
  &quot;locales_dir&quot;: &quot;./assets/locales/&quot;,
  &quot;locales_list&quot;: [&quot;en&quot;]
}
</code></pre>
<br/>
<h2>Custom Configurations</h2>
<h3>Script Bundles</h3>
<p><code>js_bundles</code> key used to configure build settings for javascript bundles. You will need to configure
bundles when your compiled extension contains more than 1 javascript file.</p>
<p>The expected value for <code>js_bundles</code> is an array with one or more items as shown in the example below.</p>
<ul>
<li><code>name</code> is the output bundle filename without file extension</li>
<li><code>src</code> specifies which files to include in each bundle; you can use a string value for a single file,  array of files, or a path with wildcard. You may also use <code>!</code> as a way to negate the inclusion of a file. This is the <a href="https://gulpjs.com/docs/en/api/src">globs syntax expected by gulp</a> (without options).</li>
</ul>
<h4>Example</h4>
<p>Sample project-level configuration with multiple javascript bundles</p>
<pre class="prettyprint source"><code>  &quot;xtbuild&quot;: {
    &quot;js_bundles&quot;: [
      {
        &quot;name&quot;: &quot;background&quot;,
        &quot;src&quot;: &quot;./src/background.js&quot;
      },
      {
        &quot;name&quot;: &quot;app&quot;,
        &quot;src&quot;: [&quot;./src/app/inbox/**/*.js&quot;, ./src/app/message/**/*.js&quot;]
      }
    ]
  }
</code></pre>
<h3>Skip Javascript Compilation and Linting</h3>
<p>Use <code>copyAsIs</code> key to specify an array of files which should not be compiled. These files can be located anywhere in your project. The build command will copy specified files exactly without any modification to the root of the output directory. Any path will be flattened.</p>
<h4>Example</h4>
<p>Sample configuration for skipping compilation of pre-compiled files</p>
<pre class="prettyprint source"><code>  &quot;xtbuild&quot;: {
    &quot;copyAsIs&quot;: [
      &quot;./node_modules/material-design-lite/material.min.js&quot;,
      &quot;./assets/ga.js&quot;
    ]
  }
</code></pre>
<p>In the project-level <code>package.json</code>, add the file paths to the list of ignored files
to prevent them from being linted.</p>
<pre class="prettyprint source lang-json"><code>  {  
      &quot;eslintIgnore&quot;: [
        &quot;test/**/*&quot;,
        &quot;./assets/ga.js&quot;
      ]
  }
</code></pre>
<h3>Style bundles</h3>
<p><code>scss_bundles</code> are used to configure build settings for css-style files. The expected value is an array with one or more items as shown in the example below.</p>
<ul>
<li>The property value <code>name</code> is the output bundle filename with file extension</li>
<li><code>src</code> specifies which files to include in each bundle; you can use a string value for a single file,  array of files, or a path with wildcard. You may also use <code>!</code> as a way to negate the inclusion of a file. This is the <a href="https://gulpjs.com/docs/en/api/src">globs syntax expected by gulp</a> (without options).</li>
</ul>
<p>When using production build the style files will be minified. Dev build does not minify style files.</p>
<p>By default, the stylesheets are assumed to be written using <a href="https://sass-lang.com/guide">Sass</a>. If you are not a friend of Sass language stylesheets, you can write your style sheets using regular CSS. However name your files using <code>.scss</code> file extension, or override the default configuration: <code>&quot;scss&quot;: &quot;./src/**/*.scss&quot;,</code> because this means the CLI will by default only look for <code>.scss</code> style files.</p>
<h4>Example</h4>
<p>Sample project-level configuration with multiple style bundles</p>
<pre class="prettyprint source"><code>  &quot;xtbuild&quot;: {
    &quot;scss_bundles&quot;: [
      {
        &quot;src&quot;: [
          &quot;./src/**/*.scss&quot;,
          &quot;!./src/app/styles/message.scss&quot;
        ],
        &quot;name&quot;: &quot;styles.css&quot;
      },
      {
        &quot;src&quot;: [
          &quot;./src/app/styles/message.scss&quot;
        ],
        &quot;name&quot;: &quot;display.css&quot;
      }
    ]
  }
</code></pre>
<h3>Localization</h3>
<p>If the extension supports multiple languages, specify all supported languages using key <code>locales_list</code>. The default language value is <code>[&quot;en&quot;]</code>.</p>
<p>This <code>locales_list</code> should be an array that corresponds to a list of subdirectories under <code>locales_dir</code> in the extension project. The default <code>locales_dir</code> is <code>./assets/locales/</code>, which you may change if you want.</p>
<p>Refer <a href="https://developers.google.com/admin-sdk/directory/v1/languages">to this list of language codes</a> when naming individual language directories.</p>
<h4>Example</h4>
<p>Multiple locales example with custom path to locales files</p>
<pre class="prettyprint source"><code>  &quot;xtbuild&quot;: {
      &quot;locales_dir&quot;: &quot;./my/custom/locales/path/&quot;,
      &quot;locales_list&quot;: [&quot;en&quot;,&quot;en-GB&quot;,&quot;pl&quot;]
  }
</code></pre>
<br/>
<p>Given the configuration above, the following project-level directories are expected.</p>
<br/>
<table>
<thead>
<tr>
<th>File Path</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>‚îî <strong><code>/my/custom/locales/path/</code></strong></td>
<td>path to locales</td>
</tr>
<tr>
<td>¬† ¬† ¬† ¬† ‚îî‚îÄ <code>en</code>/messages.json</td>
<td>Default English dictionary</td>
</tr>
<tr>
<td>¬† ¬† ¬† ¬† ‚îî‚îÄ <code>en-GB</code>/messages.json</td>
<td>British dictionary</td>
</tr>
<tr>
<td>¬† ¬† ¬† ¬† ‚îî‚îÄ <code>pl/</code></td>
<td>Polish language dictionaries</td>
</tr>
<tr>
<td>¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ‚îî‚îÄ app.json</td>
<td>Polish language dictionaries</td>
</tr>
<tr>
<td>¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ‚îî‚îÄ options.json</td>
<td>Polish language dictionaries</td>
</tr>
</tbody>
</table>
<p>You can break down your locales files into multiple <code>.json</code> files within the language-specific directory as shown in the example above for <code>pl/</code>. This may make the maintenance locales files easier if the files contain multiple entries. The build step will automatically combine all files within a language directory into a single <code>messages.json</code> which is expected from browser extensions.</p>
<h3>Image Assets</h3>
<p>By default extension CLI will look for image assets from the following paths:</p>
<pre class="prettyprint source"><code>&quot;icons&quot;: [
    &quot;./assets/img/**/*.png&quot;,
    &quot;./assets/img/**/*.gif&quot;,
    &quot;./assets/img/**/*.jpg&quot;,
    &quot;./assets/img/**/*.svg&quot;
  ],
</code></pre>
<p>You may change this configuration if the project image assets are located elsewhere or
if you want to support additional image file extensions.</p>
<p>After the build step, all image assets will be located in the <code>/dist/icons</code> directory.
Therefore, in your extension project <code>manifest.json</code> you would refer to them as follows:</p>
<pre class="prettyprint source"><code>  &quot;browser_action&quot;: {
    &quot;default_icon&quot;: {
      &quot;16&quot;: &quot;icons/16x16.png&quot;,
      &quot;24&quot;: &quot;icons/24x24.png&quot;,
      &quot;32&quot;: &quot;icons/32x32.png&quot;
    }
  }
</code></pre>
<h2>Source</h2>
<p><a href="xt-build.js.html">View latest source for this command here</a></p>
<hr>
<p><a href="https://github.com/MobileFirstLLC/extension-cli/blob/master/tutorials/xt-build.md">Edit this file on Github</a></p></article>
		</section>
			</div>
				<div class="col-md-3 side-content">
					<nav class="toc hidden-print hidden-sm hidden-xs"></nav>
				</div>
		</div>
	</div>
	<footer>
				<div class="copyright">Extension Cli is made by <a href='https://mobilefirst.me'>Mobile First</a> in the üçë state.</div>
			<div class="generated-by">Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Dec 2019 using the <a href="https://github.com/steveush/foodoc">FooDoc template</a>.</div>
	</footer>
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/clipboard.min.js"></script>
	<script src="js/prism.min.js"></script>
	<script src="js/template.min.js"></script>
		<!-- start:lunr-search-modal.hbs -->
		<div class="modal fade" id="lunr-search-modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Search results</h4>
					</div>
					<div class="modal-body" id="lunr-search-body">
					</div>
					<div class="modal-footer" id="lunr-search-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div>
		<!-- end:lunr-search-modal.hbs -->		<script src="js/lunr.min.js"></script>
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-129118591-4', 'https://mobilefirstllc.github.io/');
			ga('send', 'pageview');
		</script>
	
</body>
</html>
<!-- end:readme.hbs -->